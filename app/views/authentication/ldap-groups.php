<?php$errors = validation_errors();if ($errors){	echo '<div class="row">';	echo $this->msg->err('<ul class="square">' . $errors . '</ul>', 'Please check the following invalid item(s) and try again.');	echo '</div>';}?><?phpecho form_open('authentication/get_ldap_groups');// Start tabindex$t = 1;?><p class="hint dark">Use this page to retrieve the user groups from your LDAP server so you can automatically assign LDAP users in their groups to a single group and multiple departments within Classroombookings. This only needs to be done on first configuration and if you change your LDAP groups.</p><p class="hint dark">This will use the settings you configured in the <em>LDAP</em> tab, but you must supply a username and password here that has the appropriate permissions to retrieve all the groups. Classroombookings <strong>does not store</strong> the credentials.</p><hr><div class="alpha three columns"><h6>Server settings</h6></div><div class="omega nine columns">		<label for="auth_ldap_base">Base DNs</label>	<?php	unset($input);	$input['accesskey'] = 'D';	$input['name'] = 'auth_ldap_base';	$input['id'] = 'auth_ldap_base';	$input['maxlength'] = '65535';	$input['tabindex'] = $t;	$input['rows'] = '6';	$input['cols'] = '60';	$input['value'] = set_value($input['name'], $settings['auth_ldap_base']);	$input['class'] = 'remove-bottom';	echo form_textarea($input);	$t++;	?>	<p class="hint add-bottom">Separate multiple DNs to search with a semicolon.</p>		<label for="user">Username</label>	<?php	unset($input);	$input['accesskey'] = 'U';	$input['name'] = 'user';	$input['id'] = 'user';	$input['size'] = '20';	$input['maxlength'] = '50';	$input['tabindex'] = $t;	$input['autocomplete'] = 'off';	$input['value'] = set_value('ldaptestuser');	echo form_input($input);	$t++;	?>		<label for="pass">Password</label>	<?php	unset($input);	$input['accesskey'] = 'W';	$input['name'] = 'pass';	$input['id'] = 'pass';	$input['size'] = '20';	$input['maxlength'] = '50';	$input['tabindex'] = $t;	$input['autocomplete'] = 'off';	$input['value'] = '';	echo form_password($input);	$t++;	?>	</div><hr><div class="alpha three columns"><h6>Options</h6></div><div class="omega nine columns">		<fieldset>		<label for="clear">			<?php			echo form_hidden('clear', '0');			unset($check);			$check['name'] = 'clear';			$check['id'] = 'clear';			$check['value'] = '1';			$check['checked'] = set_checkbox($check['name'], $check['value']);			$check['tabindex'] = $t;			echo form_checkbox($check);			$t++;			?>			<span>Remove current LDAP groups from Classroombookings first</span>		</label>	</fieldset>	</div><hr>	<div class="row"><div class="alpha three columns">&nbsp;</div><div class="omega nine columns"><?phpunset($buttons);$buttons[] = array('submit', 'blue', 'Get LDAP groups', $t);$buttons[] = array('submit', 'red', 'Remove all groups', $t);$this->load->view('parts/buttons', array('buttons' => $buttons));?></div></div></form><hr><div class="alpha three columns"><h6>LDAP Groups</h6></div><div class="omega nine columns">		<table class="list" width="99%" cellpadding="0" cellspacing="0" border="0">	<?php	if(count($ldapgroups) > 0){		foreach($ldapgroups as $group){			echo sprintf('<tr><td class="m">%s</td></tr>', $group);		}	} else {		echo '<p>No groups exist at the moment.</p>';	}	?></table></div>